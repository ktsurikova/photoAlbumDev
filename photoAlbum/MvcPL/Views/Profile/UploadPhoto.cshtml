@using System.Web.Optimization
@using MvcPL.Models
@model UploadPhotoViewModel
@{
    ViewBag.Title = "UploadPhoto";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section SearchForm
{
    @Html.Partial("_SearchFormAuthRedirectToHome")
}

@section body
{
    <div class="container container-photo">

        @using (Html.BeginForm("UploadPhoto", "Profile", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            <div class="form-group row justify-content-center">
                @Html.LabelFor(m => m.Name, new { @class = "col-form-label uploadLabel col-md-2" })
                <div class="col-md-6">
                    @Html.TextBoxFor(m => m.Name, new { @class = "form-control", placeholder = "Name" })
                </div>
            </div>
            <div class="form-group row justify-content-center">
                @Html.LabelFor(m => m.Description, new { @class = "col-form-label uploadLabel col-md-2" })
                <div class="col-md-6">
                    @Html.TextAreaFor(m => m.Description, new { @class = "form-control", placeholder = "Description" })
                </div>
            </div>
            <div class="form-group row justify-content-center">
                @Html.LabelFor(m => m.Tags, new { @class = "col-form-label uploadLabel col-md-2" })
                <div class="col-md-6">
                    @Html.TextAreaFor(m => m.Tags, new { @class = "form-control", placeholder = "#rio2016 #gymnastics" })
                </div>
            </div>

            @*<div class="justify-content-center"></div>*@
            <div class="new_Btn btn signUpButton" style="margin-top: 5px; margin-bottom: 16px">SelectPicture</div><br>
            <input type="file" id="ImageFile" name="ImageFile" class="btn signUpButton" accept=".jpg, .jpeg, .png" />


            <div id="imgPreview" class="thumbnail" style="display: none">
                <img class="img-responsive" id="targetImg" height="350px" width="auto" />
            </div>
            <input type="submit" class="btn signUpButton" id="UploadButton" value="Upload"
                   style="display: none; margin-top: 16px">
        }


    </div>


}
@section scripts
{
    @Scripts.Render("~/bundles/uploadImage")
}

@*<script>

        $('.new_Btn').bind("click", function () {
            $('#ImageFile').click();
        });

        $(document).ready(function () {
            $("#ImageFile").change(function () {
                var File = this.files;
                if (File && File[0]) {
                    ReadImage(File[0]);
                }
            });
        });


        var ReadImage = function (file) {

            var reader = new FileReader;
            var image = new Image;

            reader.readAsDataURL(file);
            reader.onload = function (_file) {

                image.src = _file.target.result;
                image.onload = function () {

                    $("#targetImg").attr('src', _file.target.result);
                    $("#imgPreview").show();
                    $("#UploadButton").show();

                }
            }
        }

    </script>*@


